webpackJsonp([10],{"5OHe":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"spinner"},[e("div",{staticClass:"double-bounce1"}),this._v(" "),e("div",{staticClass:"double-bounce2"})]),this._v(" "),e("p",[this._v("正在拼命加载中......")])])}]};var c={components:{"v-loading":n("VU/8")({},a,!1,function(t){n("XpYa")},"data-v-6269eaf9",null).exports},computed:{fetchLoading:function(){return this.$store.state.detail.fetchLoading}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("v-loading",{directives:[{name:"show",rawName:"v-show",value:this.fetchLoading,expression:"fetchLoading"}]})],1)},staticRenderFns:[]};var r=n("VU/8")(c,i,!1,function(t){n("j9v2")},null,null).exports,u=n("/ocq");o.default.use(u.a);var s,l=new u.a({routes:[{path:"/",name:"首页",component:function(t){return n.e(1).then(function(){var e=[n("mlqX")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/category",redirect:"/category/good",name:"分类",component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("fXvj")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/category/:tab",component:function(t){return n.e(6).then(function(){var e=[n("9KMJ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/detail",name:"详情页",component:function(t){return n.e(2).then(function(){var e=[n("GwIj")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/car",name:"购物车",component:function(t){return Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("eo3Y")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/pay",name:"支付",component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("1xec")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/login",name:"用户",component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){var e=[n("jFLA")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/user",component:function(t){return n.e(5).then(function(){var e=[n("BWhR")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}),f=n("bOdI"),p=n.n(f),d=n("mvHQ"),h=n.n(d),m={getLocal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"STORAGE_USER_KEY";return JSON.parse(window.localStorage.getItem(t))},setLocal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STORAGE_USER_KEY";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.getLocal(e)){var n=this.getLocal(e);return window.localStorage.setItem(e,h()(n.concat(t)))}return window.localStorage.setItem(e,h()(t))}},L={fetchLoading:!0,productDatas:"",colSelected:0,sizeSelected:0,count:m.getLocal("count")||0,allplay:0,carList:m.getLocal("carList")||0},v=(s={},p()(s,"SET_LOADING",function(t,e){t.fetchLoading=e}),p()(s,"SET_DATAS",function(t,e){t.productDatas=e}),p()(s,"CHANGE_COL_SELECTED",function(t,e){t.colSelected=e}),p()(s,"CHANGE_SIZE_SELECTED",function(t,e){t.sizeSelected=e}),p()(s,"CHANGE_COUNT",function(t,e){t.count=m.getLocal("count")}),p()(s,"ADD_CAR_LIST",function(t,e){t.carList=m.getLocal("carList")}),p()(s,"CAHNGE_CAR_LIST",function(t,e){t.carList=m.getLocal("carList")}),s),g=new o.default({}),_={state:L,actions:{setDatas:function(t){var e=t.commit;g.$api({method:"post",url:"/detail"}).then(function(t){console.log(t),e("SET_DATAS",t.data)})},uplate:function(t,e){t.commit;m.setLocal(e,"carList")},addCarList:function(t,e){var n=t.commit;m.setLocal(e,"carList",!0),n("ADD_CAR_LIST")},setSize:function(t,e){(0,t.commit)("CHANGE_SIZE_SELECTED",e)},cutCarList:function(t,e){var n=t.commit,o=m.getLocal("carList").filter(function(t,n){return n!==e});m.setLocal(o,"carList"),n("CAHNGE_CAR_LIST")},setCount:function(t){var e=t.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=m.getLocal("count")||0;n?m.setLocal(++o,"count"):m.getLocal("count")>=1&&m.setLocal(--o,"count"),e("CHANGE_COUNT",m.getLocal("count"))},resetCarList:function(t){var e=t.commit,n=m.getLocal("carList").filter(function(t,e){return!0!==t.choseBool});m.setLocal(n.length,"count"),e("CHANGE_COUNT"),m.setLocal(n,"carList"),e("CAHNGE_CAR_LIST")}},getters:{count:function(t){return m.getLocal("count")||0},getCarList:function(t){return m.getLocal("carList")||0},selecteCount:function(t){var e=0;return t.carList.forEach(function(t,n){t.choseBool&&(e+=t.num)}),e},allplay:function(t){var e=0;return t.carList.forEach(function(t,n){t.choseBool&&(e+=t.price*t.num)}),e},endCarList:function(t){return t.carList.filter(function(t,e){return!0===t.choseBool})}},mutations:v},E={state:{token:m.getLocal("token")||0},mutations:p()({},"CHANGE_TOKEN",function(t,e){t.token=e,m.setLocal(e,"token")})},C={state:{tabIndex:0},mutations:p()({},"CHANGE_TABINDEX",function(t,e){t.tabIndex=e})},A=n("HVJf");o.default.use(A.a);var S=new A.a.Store({modules:{detail:_,category:C,login:E}}),T=n("//Fk"),N=n.n(T),w=n("BMa3"),G=n.n(w).a.create();G.defaults.baseURL="http://api.com",G.defaults.timeout=5e3,G.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",G.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",G.interceptors.request.use(function(t){return S.commit("SET_LOADING",!0),S.state.login.token&&(t.headers.Authorization="token "+S.state.login.token),t},function(t){return alert("网络错误，请稍后再试"),S.commit("SET_LOADING",!1),N.a.reject(t)}),G.interceptors.response.use(function(t){return setTimeout(function(){S.commit("SET_LOADING",!1)},300),t},function(t){return S.commit("SET_LOADING",!1),t.response&&401===t.response.status&&(S.commit("CHANG_TOKEN",0),alert("请重新登录"),l.replace({path:"login",query:{redirect:l.currentRoute.fullPath}})),N.a.reject(t)});var I=G,b=n("wSez"),y=n.n(b),H=n("5OHe"),D=n.n(H);window.mint=D.a,o.default.use(y.a),o.default.config.productionTip=!0,o.default.prototype.$api=I,new o.default({el:"#app",router:l,store:S,components:{App:r},template:"<App/>"})},XpYa:function(t,e){},j9v2:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.65632d7dd9a4f2657060.js.map